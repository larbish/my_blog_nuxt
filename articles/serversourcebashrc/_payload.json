[{"data":1,"prerenderedAt":499},["ShallowReactive",2],{"content-query-uTGcoDv1Tn":3,"content-query-vKhVkkOnbR":291},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"time":10,"body":11,"_type":285,"_id":286,"_source":287,"_file":288,"_stem":289,"_extension":290},"/articles/serversourcebashrc","articles",false,"","解决每次连接服务器都要加载配置文件",null,"2024-10-05T00:00:00.000Z",{"type":12,"children":13,"toc":283},"root",[14,31,40,45,58,63,68,76,89,94,115,148,161,189,200,266,277],{"type":15,"tag":16,"props":17,"children":18},"element","p",{},[19,22,29],{"type":20,"value":21},"text","今天更新后端服务, 打算进服务器重启一下后端服务, 结果发现所有的应用都消失了, 只剩下一个远古时期的",{"type":15,"tag":23,"props":24,"children":26},"code",{"className":25},[],[27],{"type":20,"value":28},"node.js",{"type":20,"value":30},".",{"type":15,"tag":16,"props":32,"children":33},{},[34],{"type":15,"tag":35,"props":36,"children":39},"img",{"alt":37,"src":38},"1","/image/serverSourceBashrc/1.webp",[],{"type":15,"tag":16,"props":41,"children":42},{},[43],{"type":20,"value":44},"服务器甚至没有重启过, 所有的东西就消失了.",{"type":15,"tag":16,"props":46,"children":47},{},[48,50,56],{"type":20,"value":49},"我用来跑后端服务的",{"type":15,"tag":23,"props":51,"children":53},{"className":52},[],[54],{"type":20,"value":55},"pm2",{"type":20,"value":57},"也没了, 但是服务一直好好地在运行, 我寻思不能是什么黑客啥的吧, 防火墙也开了, ssh端口也改了.",{"type":15,"tag":16,"props":59,"children":60},{},[61],{"type":20,"value":62},"太奇怪了, 有点难蚌.",{"type":15,"tag":16,"props":64,"children":65},{},[66],{"type":20,"value":67},"我本来都打算重新部署一遍服务了, 然后在备份数据的时候发现用户目录下是有软件的.",{"type":15,"tag":16,"props":69,"children":70},{},[71],{"type":15,"tag":35,"props":72,"children":75},{"alt":73,"src":74},"2","/image/serverSourceBashrc/2.webp",[],{"type":15,"tag":16,"props":77,"children":78},{},[79,81,87],{"type":20,"value":80},"这个时候我就想起了, 貌似之前在部署服务的时候要执行",{"type":15,"tag":23,"props":82,"children":84},{"className":83},[],[85],{"type":20,"value":86},"source ~/.bashrc",{"type":20,"value":88},"才能用命令来着的, 试了一下, 果然是要加载配置的问题.",{"type":15,"tag":16,"props":90,"children":91},{},[92],{"type":20,"value":93},"既然知道原因就好解决了, 就是解决每次连接服务器都要加载配置文件的问题.",{"type":15,"tag":16,"props":95,"children":96},{},[97,99,105,107,113],{"type":20,"value":98},"直接新建一个",{"type":15,"tag":23,"props":100,"children":102},{"className":101},[],[103],{"type":20,"value":104},".bash_profile",{"type":20,"value":106},"在里面写入一点代码让他自动加载",{"type":15,"tag":23,"props":108,"children":110},{"className":109},[],[111],{"type":20,"value":112},"~/.bashrc",{"type":20,"value":114},"文件就好了.",{"type":15,"tag":16,"props":116,"children":117},{},[118,120,125,127,132,134,139,141,146],{"type":20,"value":119},"因为有些linux系统会默认加载",{"type":15,"tag":23,"props":121,"children":123},{"className":122},[],[124],{"type":20,"value":104},{"type":20,"value":126},"文件, 而不是",{"type":15,"tag":23,"props":128,"children":130},{"className":129},[],[131],{"type":20,"value":112},{"type":20,"value":133},", 不过为什么我当初没有把配置写到",{"type":15,"tag":23,"props":135,"children":137},{"className":136},[],[138],{"type":20,"value":104},{"type":20,"value":140},"而不是",{"type":15,"tag":23,"props":142,"children":144},{"className":143},[],[145],{"type":20,"value":112},{"type":20,"value":147},"我就不记得了(",{"type":15,"tag":16,"props":149,"children":150},{},[151,153,159],{"type":20,"value":152},"打开",{"type":15,"tag":23,"props":154,"children":156},{"className":155},[],[157],{"type":20,"value":158},"~/.bash_profile",{"type":20,"value":160},"文件.",{"type":15,"tag":162,"props":163,"children":167},"pre",{"className":164,"code":165,"language":166,"meta":7,"style":7},"language-bash shiki shiki-themes github-dark","vim ~/.bash_profile\n","bash",[168],{"type":15,"tag":23,"props":169,"children":170},{"__ignoreMap":7},[171],{"type":15,"tag":172,"props":173,"children":176},"span",{"class":174,"line":175},"line",1,[177,183],{"type":15,"tag":172,"props":178,"children":180},{"style":179},"--shiki-default:#B392F0",[181],{"type":20,"value":182},"vim",{"type":15,"tag":172,"props":184,"children":186},{"style":185},"--shiki-default:#9ECBFF",[187],{"type":20,"value":188}," ~/.bash_profile\n",{"type":15,"tag":16,"props":190,"children":191},{},[192,194,199],{"type":20,"value":193},"在文件中输入下面的内容确保每次开机都会加载",{"type":15,"tag":23,"props":195,"children":197},{"className":196},[],[198],{"type":20,"value":112},{"type":20,"value":30},{"type":15,"tag":162,"props":201,"children":203},{"className":164,"code":202,"language":166,"meta":7,"style":7},"if [ -f ~/.bashrc ]; then\n    source ~/.bashrc\nfi\n",[204],{"type":15,"tag":23,"props":205,"children":206},{"__ignoreMap":7},[207,242,257],{"type":15,"tag":172,"props":208,"children":209},{"class":174,"line":175},[210,216,222,227,232,237],{"type":15,"tag":172,"props":211,"children":213},{"style":212},"--shiki-default:#F97583",[214],{"type":20,"value":215},"if",{"type":15,"tag":172,"props":217,"children":219},{"style":218},"--shiki-default:#E1E4E8",[220],{"type":20,"value":221}," [ ",{"type":15,"tag":172,"props":223,"children":224},{"style":212},[225],{"type":20,"value":226},"-f",{"type":15,"tag":172,"props":228,"children":229},{"style":212},[230],{"type":20,"value":231}," ~",{"type":15,"tag":172,"props":233,"children":234},{"style":218},[235],{"type":20,"value":236},"/.bashrc ]; ",{"type":15,"tag":172,"props":238,"children":239},{"style":212},[240],{"type":20,"value":241},"then\n",{"type":15,"tag":172,"props":243,"children":245},{"class":174,"line":244},2,[246,252],{"type":15,"tag":172,"props":247,"children":249},{"style":248},"--shiki-default:#79B8FF",[250],{"type":20,"value":251},"    source",{"type":15,"tag":172,"props":253,"children":254},{"style":185},[255],{"type":20,"value":256}," ~/.bashrc\n",{"type":15,"tag":172,"props":258,"children":260},{"class":174,"line":259},3,[261],{"type":15,"tag":172,"props":262,"children":263},{"style":212},[264],{"type":20,"value":265},"fi\n",{"type":15,"tag":16,"props":267,"children":268},{},[269,275],{"type":15,"tag":23,"props":270,"children":272},{"className":271},[],[273],{"type":20,"value":274},":wq",{"type":20,"value":276},"保存退出后重新开了一个终端就能直接用命令了, 所有的东西也都正常了.",{"type":15,"tag":278,"props":279,"children":280},"style",{},[281],{"type":20,"value":282},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":244,"depth":244,"links":284},[],"markdown","content:articles:serverSourceBashrc.md","content","articles/serverSourceBashrc.md","articles/serverSourceBashrc","md",{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"time":10,"body":292,"_type":285,"_id":286,"_source":287,"_file":288,"_stem":289,"_extension":290},{"type":12,"children":293,"toc":497},[294,304,310,314,324,328,332,338,348,352,368,396,406,423,433,484,493],{"type":15,"tag":16,"props":295,"children":296},{},[297,298,303],{"type":20,"value":21},{"type":15,"tag":23,"props":299,"children":301},{"className":300},[],[302],{"type":20,"value":28},{"type":20,"value":30},{"type":15,"tag":16,"props":305,"children":306},{},[307],{"type":15,"tag":35,"props":308,"children":309},{"alt":37,"src":38},[],{"type":15,"tag":16,"props":311,"children":312},{},[313],{"type":20,"value":44},{"type":15,"tag":16,"props":315,"children":316},{},[317,318,323],{"type":20,"value":49},{"type":15,"tag":23,"props":319,"children":321},{"className":320},[],[322],{"type":20,"value":55},{"type":20,"value":57},{"type":15,"tag":16,"props":325,"children":326},{},[327],{"type":20,"value":62},{"type":15,"tag":16,"props":329,"children":330},{},[331],{"type":20,"value":67},{"type":15,"tag":16,"props":333,"children":334},{},[335],{"type":15,"tag":35,"props":336,"children":337},{"alt":73,"src":74},[],{"type":15,"tag":16,"props":339,"children":340},{},[341,342,347],{"type":20,"value":80},{"type":15,"tag":23,"props":343,"children":345},{"className":344},[],[346],{"type":20,"value":86},{"type":20,"value":88},{"type":15,"tag":16,"props":349,"children":350},{},[351],{"type":20,"value":93},{"type":15,"tag":16,"props":353,"children":354},{},[355,356,361,362,367],{"type":20,"value":98},{"type":15,"tag":23,"props":357,"children":359},{"className":358},[],[360],{"type":20,"value":104},{"type":20,"value":106},{"type":15,"tag":23,"props":363,"children":365},{"className":364},[],[366],{"type":20,"value":112},{"type":20,"value":114},{"type":15,"tag":16,"props":369,"children":370},{},[371,372,377,378,383,384,389,390,395],{"type":20,"value":119},{"type":15,"tag":23,"props":373,"children":375},{"className":374},[],[376],{"type":20,"value":104},{"type":20,"value":126},{"type":15,"tag":23,"props":379,"children":381},{"className":380},[],[382],{"type":20,"value":112},{"type":20,"value":133},{"type":15,"tag":23,"props":385,"children":387},{"className":386},[],[388],{"type":20,"value":104},{"type":20,"value":140},{"type":15,"tag":23,"props":391,"children":393},{"className":392},[],[394],{"type":20,"value":112},{"type":20,"value":147},{"type":15,"tag":16,"props":397,"children":398},{},[399,400,405],{"type":20,"value":152},{"type":15,"tag":23,"props":401,"children":403},{"className":402},[],[404],{"type":20,"value":158},{"type":20,"value":160},{"type":15,"tag":162,"props":407,"children":408},{"className":164,"code":165,"language":166,"meta":7,"style":7},[409],{"type":15,"tag":23,"props":410,"children":411},{"__ignoreMap":7},[412],{"type":15,"tag":172,"props":413,"children":414},{"class":174,"line":175},[415,419],{"type":15,"tag":172,"props":416,"children":417},{"style":179},[418],{"type":20,"value":182},{"type":15,"tag":172,"props":420,"children":421},{"style":185},[422],{"type":20,"value":188},{"type":15,"tag":16,"props":424,"children":425},{},[426,427,432],{"type":20,"value":193},{"type":15,"tag":23,"props":428,"children":430},{"className":429},[],[431],{"type":20,"value":112},{"type":20,"value":30},{"type":15,"tag":162,"props":434,"children":435},{"className":164,"code":202,"language":166,"meta":7,"style":7},[436],{"type":15,"tag":23,"props":437,"children":438},{"__ignoreMap":7},[439,466,477],{"type":15,"tag":172,"props":440,"children":441},{"class":174,"line":175},[442,446,450,454,458,462],{"type":15,"tag":172,"props":443,"children":444},{"style":212},[445],{"type":20,"value":215},{"type":15,"tag":172,"props":447,"children":448},{"style":218},[449],{"type":20,"value":221},{"type":15,"tag":172,"props":451,"children":452},{"style":212},[453],{"type":20,"value":226},{"type":15,"tag":172,"props":455,"children":456},{"style":212},[457],{"type":20,"value":231},{"type":15,"tag":172,"props":459,"children":460},{"style":218},[461],{"type":20,"value":236},{"type":15,"tag":172,"props":463,"children":464},{"style":212},[465],{"type":20,"value":241},{"type":15,"tag":172,"props":467,"children":468},{"class":174,"line":244},[469,473],{"type":15,"tag":172,"props":470,"children":471},{"style":248},[472],{"type":20,"value":251},{"type":15,"tag":172,"props":474,"children":475},{"style":185},[476],{"type":20,"value":256},{"type":15,"tag":172,"props":478,"children":479},{"class":174,"line":259},[480],{"type":15,"tag":172,"props":481,"children":482},{"style":212},[483],{"type":20,"value":265},{"type":15,"tag":16,"props":485,"children":486},{},[487,492],{"type":15,"tag":23,"props":488,"children":490},{"className":489},[],[491],{"type":20,"value":274},{"type":20,"value":276},{"type":15,"tag":278,"props":494,"children":495},{},[496],{"type":20,"value":282},{"title":7,"searchDepth":244,"depth":244,"links":498},[],1730364767628]