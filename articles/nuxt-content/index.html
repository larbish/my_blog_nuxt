<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>@nuxtjs&#x2F;content简单入门 - s22y&#x27;s webSite</title>
<style>.articleContent>div *{color:#d7ddf1}.articleContent>div blockquote{border-left:4px solid #f4c992;font-size:.9rem;margin:12px 0;padding:12px 24px}.articleContent>div blockquote p{line-height:calc(.8rem + 4px);margin:0}.articleContent>div p{line-height:32px;margin:24px 0}.articleContent>div pre{background-color:#041420;border-radius:12px;margin:12px 0;overflow:scroll;overflow-y:hidden;padding:24px}.articleContent>div pre code{background-color:transparent;font-size:.8rem;margin:0;padding:0}.articleContent>div pre code:after,.articleContent>div pre code:before{content:""}.articleContent>div pre::-webkit-scrollbar{height:0}.articleContent>div code{border-radius:4px;color:#fff;font-size:.9rem;margin:0 4px;padding:2px 4px}.articleContent>div code:before{content:"{ "}.articleContent>div code:after{content:" }"}.articleContent>div img{border-radius:12px;height:auto;margin:24px 0;width:100%}.articleContent>div img:hover{scale:1.1}.articleContent>div h1,.articleContent>div h2,.articleContent>div h3,.articleContent>div h4,.articleContent>div h5,.articleContent>div h6{color:#fff}.articleContent>div h1 a,.articleContent>div h2 a,.articleContent>div h3 a,.articleContent>div h4 a,.articleContent>div h5 a,.articleContent>div h6 a{color:#fff;pointer-events:none;text-decoration:none}.articleContent>div h1{border-bottom:1px dashed #fff;padding-bottom:4px}.articleContent>div ul{margin:24px}.articleContent>div ul li{margin:8px 0}@media (max-width:900px){.articleContent blockquote p{font-size:.7rem}.articleContent p{font-size:.8rem}.articleContent pre code{font-size:.6rem!important}.articleContent code{font-size:.7rem!important}}*{font-family:pointfree,PingFang-l;margin:0;padding:0;transition:.2s}body{background-attachment:fixed;background-color:#091a28;background-image:url(/background.jpg);background-position:100% 0;background-repeat:no-repeat;background-size:cover;color:#ebf4f1}@font-face{font-display:swap;font-family:JB-Medium;src:url(/_nuxt/JetBrainsMono-Medium.3S3k2nMz.woff2)}@font-face{font-display:swap;font-family:PingFang-l;src:url(/_nuxt/PingFang-l.Blv3-Y4q.otf)}@font-face{font-display:swap;font-family:PingFang-m;src:url(/_nuxt/PingFang-m.CC6wB8zs.otf)}@font-face{font-display:swap;font-family:pointfree;src:url(/_nuxt/pointfree.DMu5GJ7t.ttf)}button{background-color:transparent;border:0;outline:none}a{color:#f4c992}a:hover{color:#a85859}html::-webkit-scrollbar{width:10px}html::-webkit-scrollbar-track{display:none}html::-webkit-scrollbar-thumb{background:#e6ddb2;border-radius:2px}html::-webkit-scrollbar-thumb:hover{background:#e5af80;border-radius:2px}html::-webkit-scrollbar-thumb:active{background:#f4c992;border-radius:2px}</style>
<style>.appHeader[data-v-953c1808]{height:100%}.appHeader .content[data-v-953c1808]{align-items:center;display:flex;flex-direction:row;height:100%;justify-content:space-between;margin:0 auto}.appHeader .content .logo[data-v-953c1808]{background-color:#fff;border:1px solid hsla(0,0%,73%,.2);border-radius:14px;height:52px;width:52px}.appHeader .content .articleInfo[data-v-953c1808]{width:100%}.appHeader .content .articleInfo .classification .tags[data-v-953c1808]{margin-right:4px}.appHeader .content .menu[data-v-953c1808]{justify-content:end;width:100%}.appHeader .content .menu[data-v-953c1808],.appHeader .content .menu .mainmenu[data-v-953c1808]{align-items:center;display:flex;flex-direction:row;height:100%}.appHeader .content .menu .mainmenu[data-v-953c1808]{justify-content:center}.appHeader .content .menu .mainmenu .item[data-v-953c1808]{align-items:center;display:flex;flex-direction:row;justify-content:center;list-style:none;margin:0 2px}.appHeader .content .menu .mainmenu .item a[data-v-953c1808]{font-size:1rem;font-weight:700;text-decoration:none}.appHeader .content .menu .mainmenu .item a .icon[data-v-953c1808]{display:none}@media (max-width:900px){.appHeader[data-v-953c1808]{height:48px}.appHeader .content[data-v-953c1808]{padding:0 12px}.appHeader .content .logo[data-v-953c1808]{height:42px;width:42px}.appHeader .content .articleInfo[data-v-953c1808]{display:none}.appHeader .content .menu .mainmenu .item[data-v-953c1808]{margin:0 6px}.appHeader .content .menu .mainmenu .item a[data-v-953c1808]{font-size:.8rem}.appHeader .content .menu .mainmenu .item a .icon[data-v-953c1808]{display:flex;font-size:1.2rem}.appHeader .content .menu .mainmenu .item a .text[data-v-953c1808],.appHeader .content .menu .mainmenu .spot[data-v-953c1808]{display:none}}</style>
<style>.appFooter .info[data-v-3cec749a]{padding:20px 0}.appFooter .info .icp[data-v-3cec749a]{color:rgba(235,244,241,.5)}@media (max-width:900px){.appFooter[data-v-3cec749a] *{font-size:.8rem}}</style>
<style>header[data-v-0e66c829]{height:auto;padding-top:82px}header[data-v-0e66c829],main[data-v-0e66c829]{margin:0 auto;width:700px}main[data-v-0e66c829]{position:relative;z-index:1}footer[data-v-0e66c829]{margin:0 auto;padding:20px 0;width:700px}@media (max-width:900px){header[data-v-0e66c829]{height:48px;padding:64px 2.5vw 0}header[data-v-0e66c829],main[data-v-0e66c829]{width:calc(100vw - 40px)}main[data-v-0e66c829]{padding:0 20px}footer[data-v-0e66c829]{padding:40px 20px;width:calc(100vw - 40px)}}</style>
<style>.articleContent[data-v-f9c11d0b]{margin:0 auto;max-width:900px;min-width:100px;padding-top:32px;width:100%}.articleContent .info[data-v-f9c11d0b]{display:none}@media (max-width:900px){.articleContent[data-v-f9c11d0b]{min-width:10vw;width:100%}.articleContent .info[data-v-f9c11d0b]{display:block;margin-bottom:24px}.articleContent .info p[data-v-f9c11d0b]{margin:0}.articleContent .info .articleTitle[data-v-f9c11d0b]{font-size:1.2rem}.articleContent .info .articleTime[data-v-f9c11d0b]{font-size:.9rem}}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<link rel="stylesheet" href="/_nuxt/entry.Cprq0VW9.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/articles/nuxt-content/_payload.json?29a55ab7-0aef-4efd-98b8-8f83f465373e">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DY8XPlMf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/6oANVjzW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/W6J_HCmv.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/9QRU8BnI.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/8AqZETps.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/T3wwVhFt.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CH7qITeT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CNDj2rKL.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Yjj_B0f0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BJYn9d5n.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cyeyvgqd.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CgddQozM.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/w2HmMSmq.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cj1BaL5_.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/SWe0qDV1.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BfcUXCoF.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/ZgSfJGmU.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/De6EMEYT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/B_jnB2X9.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/zLfnvVoF.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8ptmpb7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/uyllBd8X.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D0kQrnBb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C2FKOXRe.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/useStudio.DQTJeWrd.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CrO8Kan5.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DJApYFC3.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/BN9OmkRG.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DxJMK0f2.js">
<meta name="description" content="s22y's webSite">
<link rel="shortcut icon" href="/logo_small.webp">
<link rel="apple-touch-icon" href="/logo_small.webp">
<meta property="og:title" content="@nuxtjs/content简单入门">
<script type="module" src="/_nuxt/DY8XPlMf.js" crossorigin></script>
<style>:where(.i-icon-park-solid\:bachelor-cap-two){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48' height='48'%3E%3Cg fill='none' stroke='black' stroke-linejoin='round' stroke-width='4'%3E%3Cpath d='M11 21v15.039c0 .607.274 1.18.785 1.509C13.486 38.643 17.86 41 24 41s10.514-2.357 12.215-3.452c.51-.33.785-.902.785-1.51V21'/%3E%3Cpath stroke-linecap='round' d='M43 24v8'/%3E%3Cpath fill='black' stroke-linecap='round' d='M5 17L24 7l19 10l-19 10z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-icon-park-solid\:book-one){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48' height='48'%3E%3Cg fill='none' stroke='black' stroke-linejoin='round' stroke-width='4'%3E%3Cpath fill='black' d='M7 37V11a6 6 0 0 1 6-6h22v26H13c-3.3 0-6 2.684-6 6Z'/%3E%3Cpath stroke-linecap='round' d='M35 31H13a6 6 0 0 0 0 12h28V7M14 37h20'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-icon-park-solid\:railway){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48' height='48'%3E%3Cdefs%3E%3Cmask id='ipSRailway0'%3E%3Cg fill='none'%3E%3Cpath fill='%23fff' stroke='%23fff' stroke-linejoin='round' stroke-width='4' d='M12 6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v24a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2z'/%3E%3Ccircle cx='18' cy='26' r='2' fill='%23000'/%3E%3Ccircle cx='30' cy='26' r='2' fill='%23000'/%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='4' d='M12 20h24'/%3E%3Cpath stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='4' d='M21 38h6m-9 6h12'/%3E%3Cpath stroke='%23fff' stroke-linecap='round' stroke-width='4' d='m17 32l-6 12m20-12l6 12'/%3E%3Cpath stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='4' d='M36 15v10M12 15v10'/%3E%3C/g%3E%3C/mask%3E%3C/defs%3E%3Cpath fill='black' d='M0 0h48v48H0z' mask='url(%23ipSRailway0)'/%3E%3C/svg%3E")}:where(.i-typcn\:rss){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M6.002 15.999a2 2 0 1 0-.004 4a2 2 0 0 0 .004-4M6 4a2 2 0 0 0 0 4c5.514 0 10 4.486 10 10a2 2 0 0 0 4 0c0-7.72-6.28-14-14-14m0 6a2 2 0 0 0 0 4c2.205 0 4 1.794 4 4a2 2 0 0 0 4 0c0-4.411-3.589-8-8-8'/%3E%3C/svg%3E")}</style></head><body><div id="__nuxt"><!--[--><header data-v-0e66c829><div class="appHeader" data-v-0e66c829 data-v-953c1808><div class="content" data-v-953c1808><div class="articleInfo" data-v-953c1808><!--[--><p class="articleTitle" data-v-953c1808>@nuxtjs/content简单入门</p><p class="articleTime" data-v-953c1808>Oct 19, 2024</p><!--]--></div><nav class="menu" data-v-953c1808><ul class="mainmenu" data-v-953c1808><li class="item" data-v-953c1808><a href="/" class="" data-v-953c1808><span class="iconify i-icon-park-solid:bachelor-cap-two icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>Home</span></a></li><li class="item spot" data-v-953c1808>·</li><li class="item" data-v-953c1808><a href="/article" class="" data-v-953c1808><span class="iconify i-icon-park-solid:book-one icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>article</span></a></li><li class="item spot" data-v-953c1808>·</li><li class="item" data-v-953c1808><a href="https://www.travellings.cn/go.html" rel="noopener noreferrer" target="_blank" data-v-953c1808><span class="iconify i-icon-park-solid:railway icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>travelling</span></a></li><li class="item spot" data-v-953c1808>·</li><li class="item" data-v-953c1808><a href="/rss.xml" rel="noopener noreferrer" target="_blank" data-v-953c1808><span class="iconify i-typcn:rss icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>RSS</span></a></li></ul></nav></div></div></header><main data-v-0e66c829><div class="articleContent" data-v-f9c11d0b><div class="info" data-v-f9c11d0b><!--[--><p class="articleTitle" data-v-f9c11d0b>@nuxtjs/content简单入门</p><p class="articleTime" data-v-f9c11d0b>Oct 19, 2024</p><!--]--></div><!--[--><div><p><!--[-->@nuxtjs/content 是 nuxt3 官方的一个 CMS(内容管理)插件, 可以方便的将 markdown 文件作为内容进行管理, 并且支持搜索, 分页, 分类等高级功能.<!--]--></p><p><!--[-->因为网上关于这个插件的中文教程似乎很少, 而且对我来说, 即使是官方的英文文档就算用上沉浸式翻译阅读起来也十分吃力(我太菜力), 所以我就写一篇文章, 记录一下我的学习过程, 希望能帮到有需要的人.<!--]--></p><h1 id="安装"><!--[-->安装<!--]--></h1><!--[--><pre class="language-bash shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A737D"># 使用npx
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">npx</span><span style="--shiki-default:#9ECBFF"> nuxi@latest</span><span style="--shiki-default:#9ECBFF"> init</span><span style="--shiki-default:#9ECBFF"> content-app</span><span style="--shiki-default:#79B8FF"> -t</span><span style="--shiki-default:#9ECBFF"> content
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#6A737D"># 使用pnpm
</span></span><span class="line" line="5"><span style="--shiki-default:#B392F0">pnpm</span><span style="--shiki-default:#9ECBFF"> install</span><span style="--shiki-default:#9ECBFF"> @nuxt/content
</span></span></code><!--]--></pre><!--]--><p><!--[-->在<code class=""><!--[-->nuxt.config.ts<!--]--></code>文件中加入插件.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">modules</span><span style="--shiki-default:#E1E4E8">: [</span><span style="--shiki-default:#9ECBFF">&quot;@nuxt/content&quot;</span><span style="--shiki-default:#E1E4E8">],
</span></span></code><!--]--></pre><!--]--><h1 id="实现基本功能"><!--[-->实现基本功能<!--]--></h1><p><!--[-->在项目根目录创建一个<code class=""><!--[-->content<!--]--></code>文件夹, 这个文件夹是用来存放文件的, 关于他的具体作用可以看 nuxt3 的<a href="https://nuxt.com.cn/docs/guide/directory-structure/content" rel="nofollow"><!--[-->官方文档<!--]--></a><!--]--></p><p><!--[-->在<code class=""><!--[-->content<!--]--></code>文件夹下创建<code class=""><!--[-->index.md<!--]--></code>和<code class=""><!--[-->demo1.md<!--]--></code>, 新建一个文件夹<code class=""><!--[-->articles<!--]--></code>, 并在里面放一个<code class=""><!--[-->article1.md<!--]--></code>, 作为我们的测试文件.<!--]--></p><p><!--[-->目录如下:<!--]--></p><!--[--><pre class="" style=""><!--[--><code>content
├── index.md
├── demo1.md
└── article
    └── article1.md
</code><!--]--></pre><!--]--><h2 id="渲染内容"><a href="#渲染内容"><!--[-->渲染内容<!--]--></a></h2><p><!--[-->在<code class=""><!--[-->.md<!--]--></code>文件里面随便写入一些内容, 插件会自动将第一个标题作为文章的标题(title), 第一段文本作为描述(description).<!--]--></p><p><!--[--><code class=""><!--[-->content<!--]--></code>插件会自动识别<code class=""><!--[-->content<!--]--></code>文件夹下的所有文件, 并且自动生成对应的路径, 并不需要我们进行多余的配置.<!--]--></p><p><!--[-->例如我们刚刚在文件夹下创建的两个文件:<!--]--></p><table><!--[--><thead><!--[--><tr><!--[--><th><!--[-->文件<!--]--></th><th><!--[-->路径<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr><!--[--><td><!--[-->content/index.md<!--]--></td><td><!--[-->/<!--]--></td><!--]--></tr><tr><!--[--><td><!--[-->content/demo1.md<!--]--></td><td><!--[-->/demo2<!--]--></td><!--]--></tr><tr><!--[--><td><!--[-->content/articles/article1.md<!--]--></td><td><!--[-->/articles/article1<!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table><p><!--[-->这个时候我们在<code class=""><!--[-->app.vue<!--]--></code>中添加<code class=""><!--[-->&lt;ContentDoc /&gt;<!--]--></code>标签, 打开页面, 你就能发现你在<code class=""><!--[-->index.md<!--]--></code>文件中写的内容被渲染出来了, 在地址栏中输入<code class=""><!--[-->localhost:3000/demo2<!--]--></code>就能看见<code class=""><!--[-->demo2<!--]--></code>的内容, <code class=""><!--[-->articles<!--]--></code>文件夹下的内容也是如此.<!--]--></p><p><!--[-->现在我们知道了如何渲染内容, 但是一般来说我们都是需要先渲染一个列表出来, 再通过点击列表跳转到指定的文章页显示内容.<!--]--></p><h2 id="渲染列表"><a href="#渲染列表"><!--[-->渲染列表<!--]--></a></h2><p><!--[-->在渲染列表之前我们需要做些准备工作.<!--]--></p><p><!--[-->首先, 我们要确保<code class=""><!--[-->/content<!--]--></code>下的<code class=""><!--[-->articles<!--]--></code>, <code class=""><!--[-->/pages<!--]--></code>下的<code class=""><!--[-->articles<!--]--></code>这两个文件夹的名字是一致的.<!--]--></p><p><!--[-->其次, 我们需要在<code class=""><!--[-->/pages/articles<!--]--></code>下创建一个<code class=""><!--[-->[...slug].vue<!--]--></code>文件, 这个文件夹是用来渲染内容的.<!--]--></p><p><!--[-->确认好上面的之后, 你就可以在你需要的地方加入列表了.<!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">ContentList</span><span style="--shiki-default:#B392F0"> path</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;/articles&quot;</span><span style="--shiki-default:#B392F0"> v-slot</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">{ list }</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E1E4E8">    &lt;div v-for=&quot;article in list&quot; :key=&quot;article._path&quot;&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">        &lt;NuxtLink :to=&quot;article._path&quot;&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8">            &lt;h2&gt;{{ article.title }}&lt;/h2&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">            &lt;p&gt;{{ article.description }}&lt;/p&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">        &lt;/NuxtLink&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">    &lt;/div&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">ContentList</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><ul><!--[--><li><!--[-->path: 指定了要渲染的路径.<!--]--></li><li><!--[-->v-slot: 插槽, 可以获取到渲染的内容.<!--]--></li><!--]--></ul><p><!--[-->我们可以通过<code class=""><!--[-->v-for<!--]--></code>渲染出列表, 并通过<code class=""><!--[-->article<!--]--></code>去获取文章的信息, 例如路径, 标题, 描述.<!--]--></p><p><!--[-->在<code class=""><!--[-->[...slug].vue<!--]--></code>文件中加入<code class=""><!--[-->&lt;ContentDoc /&gt;<!--]--></code>标签, 这样我们点击标题或者描述就可以跳转到文章详细页了.<!--]--></p><h2 id="front-matter"><a href="#front-matter"><!--[-->Front-matter<!--]--></a></h2><p><!--[-->这个东西是写在文档顶部的东西, 作用大概就是让你可以随意设置文章的各种信息.<!--]--></p><p><!--[-->在我们上面渲染列表的时候涉及到了一个东西<code class=""><!--[-->article.title<!--]--></code>, 这个就是文章的信息(title, description).<!--]--></p><p><!--[-->如果你没有设置 Front-matter, 那么插件会自动将第一个标题作为文章的标题, 第一段文本作为描述(description).<!--]--></p><!--[--><pre class="language-markdown shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">---
</span></span><span class="line" line="2"><span style="--shiki-default:#85E89D">title</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#9ECBFF">文章1
</span></span><span class="line" line="3"><span style="--shiki-default:#85E89D">description</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#9ECBFF">这是文章1的简介
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8">---
</span></span><span class="line" line="5"><span emptylineplaceholder="true">
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">这是 article1 的正文
</span></span></code><!--]--></pre><!--]--><p><!--[-->官方的文档中写了一个原生的参数, 实际上你可以随意设置里面的键值, 比如创建时间修改时间.<!--]--></p><!--[--><pre class="language-markdown shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">---
</span></span><span class="line" line="2"><span style="--shiki-default:#85E89D">title</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#9ECBFF">文章1
</span></span><span class="line" line="3"><span style="--shiki-default:#85E89D">description</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#9ECBFF">这是文章1的简介
</span></span><span class="line" line="4"><span style="--shiki-default:#85E89D">create_time</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#79B8FF">2022-07-21 15:00:00
</span></span><span class="line" line="5"><span style="--shiki-default:#85E89D">update_time</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#79B8FF">2022-07-21 15:00:00
</span></span><span class="line" line="6"><span style="--shiki-default:#85E89D">author</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#9ECBFF">AliceClodia
</span></span><span class="line" line="7"><span style="--shiki-default:#85E89D">tags</span><span style="--shiki-default:#E1E4E8">: [</span><span style="--shiki-default:#9ECBFF">tag1</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#9ECBFF">tag2</span><span style="--shiki-default:#E1E4E8">]
</span></span><span class="line" line="8"><span style="--shiki-default:#85E89D">categories</span><span style="--shiki-default:#E1E4E8">: [</span><span style="--shiki-default:#9ECBFF">category1</span><span style="--shiki-default:#E1E4E8">, </span><span style="--shiki-default:#9ECBFF">category2</span><span style="--shiki-default:#E1E4E8">]
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">---
</span></span></code><!--]--></pre><!--]--><p><!--[-->当然, 如果你要渲染这些键值就需要修改列表的代码.<!--]--></p><p><!--[--><img src="/image/nuxt-content/3.webp" alt="自定义键值"><!--]--></p><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">ContentList</span><span style="--shiki-default:#B392F0"> path</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;/articles&quot;</span><span style="--shiki-default:#B392F0"> v-slot</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">{ list }</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#E1E4E8">    &lt;div v-for=&quot;article in list&quot; :key=&quot;article._path&quot;&gt;
</span></span><span class="line" line="3"><span style="--shiki-default:#E1E4E8">        &lt;NuxtLink :to=&quot;article._path&quot;&gt;
</span></span><span class="line" line="4"><span style="--shiki-default:#E1E4E8">            &lt;h2&gt;{{ article.title }}&lt;/h2&gt;
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">            &lt;p&gt;{{ article.description }}&lt;/p&gt;
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">            &lt;p&gt;{{ article.create_time }}&lt;/p&gt;
</span></span><span class="line" line="7"><span style="--shiki-default:#E1E4E8">            &lt;p&gt;{{ article.update_time }}&lt;/p&gt;
</span></span><span class="line" line="8"><span style="--shiki-default:#E1E4E8">            &lt;p&gt;{{ article.author }}&lt;/p&gt;
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">        &lt;/NuxtLink&gt;
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">    &lt;/div&gt;
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">ContentList</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><h1 id="可能会遇到的问题"><!--[-->可能会遇到的问题<!--]--></h1><p><!--[-->当你部署到你的服务器上, 同时你还使用了 nginx , 此时你通过<code class=""><!--[-->&lt;NuxtLink&gt;<!--]--></code>导航到列表或者内容页的时候就可能会遇到列表和内容没有被正确渲染.<!--]--></p><p><!--[-->页面显示 <code class=""><!--[-->You should use slots with &lt;ContentRenderer&gt;<!--]--></code>, 打开控制台会看到 502 bad gateway 的报错.<!--]--></p><p><!--[--><img src="/image/nuxt-content/2.webp" alt="报错"><!--]--></p><p><!--[-->这是一个服务端的问题, 所以即使你在开发环境绞尽脑汁都没法复现.<!--]--></p><p><!--[-->我在@nuxtjs/content 的 github issues 页看到很多人都有这个问题, 但是也没找到什么解决方法.<!--]--></p><p><!--[-->不过我在查文档的时候, 发现 nuxt2 的文档有关于 nginx 的配置, 用了这个配置就可以正常渲染了.<!--]--></p><p><!--[--><a href="https://v2.nuxt.com/deployments/nginx/" rel="nofollow"><!--[-->文档地址<!--]--></a><!--]--></p><!--[--><pre class="" style=""><!--[--><code>map $sent_http_content_type $expires {
    &quot;text/html&quot;                 epoch;
    &quot;text/html; charset=utf-8&quot;  epoch;
    default                     off;
}

server {
    listen          80;             # the port nginx is listening on
    server_name     your-domain;    # setup your domain here

    gzip            on;
    gzip_types      text/plain application/xml text/css application/javascript;
    gzip_min_length 1000;

    location / {
        expires $expires;

        proxy_redirect                      off;
        proxy_set_header Host               $host;
        proxy_set_header X-Real-IP          $remote_addr;
        proxy_set_header X-Forwarded-For    $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto  $scheme;
        proxy_read_timeout          1m;
        proxy_connect_timeout       1m;
        proxy_pass                          http://127.0.0.1:3000; # set the address of the Node.js instance here
    }
}
</code><!--]--></pre><!--]--><p><!--[-->但是当你修改好配置后你可能会发现, 加载时间太长了, 很不合理.<!--]--></p><p><!--[--><img src="/image/nuxt-content/1.webp" alt="加载时间过长"><!--]--></p><p><!--[-->上面的是通过 ip 直接访问的, 下面是通过域名访问的.<!--]--></p><p><!--[-->我问 GPT, 他说可能是因为 nginx 的缓存问题, 但是我并不会整这个玩意, 所以我就修改了打包的命令.<!--]--></p><!--[--><pre class="language-bash shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#6A737D"># 正常的打包命令
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">pnpm</span><span style="--shiki-default:#9ECBFF"> run</span><span style="--shiki-default:#9ECBFF"> dev
</span></span><span class="line" line="3"><span style="--shiki-default:#6A737D"># 将所有文件打包成多个静态的html文件
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0">pnpm</span><span style="--shiki-default:#9ECBFF"> run</span><span style="--shiki-default:#9ECBFF"> generate
</span></span></code><!--]--></pre><!--]--><p><!--[-->直接将所有文件打包成静态的, 这样就能有效减少加载时间了.<!--]--></p><h1 id="实现进阶功能"><!--[-->实现进阶功能<!--]--></h1><h2 id="搜索"><a href="#搜索"><!--[-->搜索<!--]--></a></h2><p><!--[-->你需要在<code class=""><!--[-->nuxt.config.ts<!--]--></code>中添加配置.<!--]--></p><!--[--><pre class="language-typescript shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">content</span><span style="--shiki-default:#E1E4E8">: {
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">    experimental</span><span style="--shiki-default:#E1E4E8">: {
</span></span><span class="line" line="3"><span style="--shiki-default:#6A737D">        // 启用搜索功能, 这里编辑器可能会报错, 不用理会, ts是这样的
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0">        search</span><span style="--shiki-default:#E1E4E8">: </span><span style="--shiki-default:#79B8FF">true</span><span style="--shiki-default:#E1E4E8">,
</span></span><span class="line" line="5"><span style="--shiki-default:#E1E4E8">    },
</span></span><span class="line" line="6"><span style="--shiki-default:#E1E4E8">},
</span></span></code><!--]--></pre><!--]--><p><!--[-->然后在你需要添加搜索的地方加上如下代码即可.<!--]--></p><p><!--[-->注意! 不要照抄<a href="https://content.nuxt.com/usage/search" rel="nofollow"><!--[-->官方文档<!--]--></a>的代码, 那个是错误的, 会让你喜提 500 报错.<!--]--></p><blockquote><!--[--><p><!--[-->多提一嘴, 如果你按照官方文档直接在<code class=""><!--[-->&lt;script&gt;<!--]--></code>里面使用<code class=""><!--[-->searchContent()<!--]--></code>函数, 很明显是一个错误的代码逻辑.<!--]--></p><p><!--[-->要知道这是一个搜索功能, 正常的搜索步骤都是在输入框输入要搜索的东西然后点击按钮搜索, 但是官网文档就是这么写的.<!--]--></p><p><!--[-->我怀疑写这个文档的人别说 nuxt,vue 了, 连编程都不会, 或者这人纯粹就是懒, 只说 searchContent 这个函数怎么使用, 甚至不愿意把这个功能稍微写完整一些, 就像我下面写的这样.<!--]--></p><p><!--[-->这也是为什么我喜欢写一些像教程一样的文章了, 我很讨厌一些官方文档, 写的不清不楚的, 很容易误导人.(当然如果你不认同我的说法可以去看看<a href="https://socket.io/zh-CN/docs/v4/tutorial/introduction" rel="nofollow"><!--[-->socket.io<!--]--></a>的文档, 这个文档是我迄今为止看过最舒服的文档了, 就连新增的代码, 增加在哪个地方都标记出来了, 这才是优秀的官方文档)<!--]--></p><!--]--></blockquote><!--[--><pre class="language-vue shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#B392F0"> setup</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="2"><span style="--shiki-default:#6A737D">// 搜索框的值
</span></span><span class="line" line="3"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> search</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#B392F0"> ref</span><span style="--shiki-default:#E1E4E8">(</span><span style="--shiki-default:#9ECBFF">&quot;&quot;</span><span style="--shiki-default:#E1E4E8">);
</span></span><span class="line" line="4"><span style="--shiki-default:#6A737D">// 搜索返回的数据
</span></span><span class="line" line="5"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#79B8FF"> results</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#B392F0"> ref</span><span style="--shiki-default:#E1E4E8">([]);
</span></span><span class="line" line="6"><span emptylineplaceholder="true">
</span></span><span class="line" line="7"><span style="--shiki-default:#6A737D">// 搜索函数
</span></span><span class="line" line="8"><span style="--shiki-default:#F97583">const</span><span style="--shiki-default:#B392F0"> handleSearch</span><span style="--shiki-default:#F97583"> =</span><span style="--shiki-default:#F97583"> async</span><span style="--shiki-default:#E1E4E8"> () </span><span style="--shiki-default:#F97583">=&gt;</span><span style="--shiki-default:#E1E4E8"> {
</span></span><span class="line" line="9"><span style="--shiki-default:#E1E4E8">    results.value </span><span style="--shiki-default:#F97583">=</span><span style="--shiki-default:#F97583"> await</span><span style="--shiki-default:#B392F0"> searchContent</span><span style="--shiki-default:#E1E4E8">(search);
</span></span><span class="line" line="10"><span style="--shiki-default:#E1E4E8">};
</span></span><span class="line" line="11"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">script</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="12"><span emptylineplaceholder="true">
</span></span><span class="line" line="13"><span style="--shiki-default:#E1E4E8">&lt;</span><span style="--shiki-default:#85E89D">template</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="14"><span style="--shiki-default:#E1E4E8">    &lt;</span><span style="--shiki-default:#85E89D">main</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="15"><span style="--shiki-default:#E1E4E8">        &lt;</span><span style="--shiki-default:#85E89D">input</span><span style="--shiki-default:#B392F0"> v-model</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;search&quot;</span><span style="--shiki-default:#E1E4E8"> /&gt;
</span></span><span class="line" line="16"><span style="--shiki-default:#E1E4E8">        &lt;</span><span style="--shiki-default:#85E89D">button</span><span style="--shiki-default:#B392F0"> @click</span><span style="--shiki-default:#E1E4E8">=</span><span style="--shiki-default:#9ECBFF">&quot;handleSearch&quot;</span><span style="--shiki-default:#E1E4E8">&gt;search&lt;/</span><span style="--shiki-default:#85E89D">button</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="17"><span emptylineplaceholder="true">
</span></span><span class="line" line="18"><span style="--shiki-default:#E1E4E8">        &lt;</span><span style="--shiki-default:#85E89D">pre</span><span style="--shiki-default:#E1E4E8">&gt;{{ results }} &lt;/</span><span style="--shiki-default:#85E89D">pre</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="19"><span style="--shiki-default:#E1E4E8">    &lt;/</span><span style="--shiki-default:#85E89D">main</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span><span class="line" line="20"><span style="--shiki-default:#E1E4E8">&lt;/</span><span style="--shiki-default:#85E89D">template</span><span style="--shiki-default:#E1E4E8">&gt;
</span></span></code><!--]--></pre><!--]--><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--></div></main><footer data-v-0e66c829><div class="appFooter" data-v-0e66c829 data-v-3cec749a><div class="info" data-v-3cec749a><p class="copyright" data-v-3cec749a>Copyright ©2024.sooooooooooooooooootheby All rights reserved</p></div></div></footer><!--]--></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/articles/nuxt-content/_payload.json?29a55ab7-0aef-4efd-98b8-8f83f465373e">[{"state":1,"once":3,"_errors":4,"serverRendered":7,"path":8,"prerenderedAt":9},["Reactive",2],{},["Set"],["ShallowReactive",5],{"content-query-IgdFfXAsqy":6,"content-query-KAjQJezLbu":6},null,true,"/articles/nuxt-content",1730364767614]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1730364745108,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-dark",highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}},studio:{apiURL:"http://localhost:1337",iframeMessagingAllowedOrigins:""}},app:{baseURL:"/",buildId:"29a55ab7-0aef-4efd-98b8-8f83f465373e",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>