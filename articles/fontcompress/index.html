<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>字体压缩 - s22y&#x27;s webSite</title>
<style>.articleContent>div *{color:#d7ddf1}.articleContent>div blockquote{border-left:4px solid #f4c992;font-size:.9rem;margin:12px 0;padding:12px 24px}.articleContent>div blockquote p{line-height:calc(.8rem + 4px);margin:0}.articleContent>div p{line-height:32px;margin:24px 0}.articleContent>div pre{background-color:#041420;border-radius:12px;margin:12px 0;overflow:scroll;overflow-y:hidden;padding:24px}.articleContent>div pre code{background-color:transparent;font-size:.8rem;margin:0;padding:0}.articleContent>div pre code:after,.articleContent>div pre code:before{content:""}.articleContent>div pre::-webkit-scrollbar{height:0}.articleContent>div code{border-radius:4px;color:#fff;font-size:.9rem;margin:0 4px;padding:2px 4px}.articleContent>div code:before{content:"{ "}.articleContent>div code:after{content:" }"}.articleContent>div img{border-radius:12px;height:auto;margin:24px 0;width:100%}.articleContent>div img:hover{scale:1.1}.articleContent>div h1,.articleContent>div h2,.articleContent>div h3,.articleContent>div h4,.articleContent>div h5,.articleContent>div h6{color:#fff}.articleContent>div h1 a,.articleContent>div h2 a,.articleContent>div h3 a,.articleContent>div h4 a,.articleContent>div h5 a,.articleContent>div h6 a{color:#fff;pointer-events:none;text-decoration:none}.articleContent>div h1{border-bottom:1px dashed #fff;padding-bottom:4px}.articleContent>div ul{margin:24px}.articleContent>div ul li{margin:8px 0}@media (max-width:900px){.articleContent blockquote p{font-size:.7rem}.articleContent p{font-size:.8rem}.articleContent pre code{font-size:.6rem!important}.articleContent code{font-size:.7rem!important}}*{font-family:pointfree,PingFang-l;margin:0;padding:0;transition:.2s}body{background-attachment:fixed;background-color:#091a28;background-image:url(/background.jpg);background-position:100% 0;background-repeat:no-repeat;background-size:cover;color:#ebf4f1}@font-face{font-display:swap;font-family:JB-Medium;src:url(/_nuxt/JetBrainsMono-Medium.3S3k2nMz.woff2)}@font-face{font-display:swap;font-family:PingFang-l;src:url(/_nuxt/PingFang-l.Blv3-Y4q.otf)}@font-face{font-display:swap;font-family:PingFang-m;src:url(/_nuxt/PingFang-m.CC6wB8zs.otf)}@font-face{font-display:swap;font-family:pointfree;src:url(/_nuxt/pointfree.DMu5GJ7t.ttf)}button{background-color:transparent;border:0;outline:none}a{color:#f4c992}a:hover{color:#a85859}html::-webkit-scrollbar{width:10px}html::-webkit-scrollbar-track{display:none}html::-webkit-scrollbar-thumb{background:#e6ddb2;border-radius:2px}html::-webkit-scrollbar-thumb:hover{background:#e5af80;border-radius:2px}html::-webkit-scrollbar-thumb:active{background:#f4c992;border-radius:2px}</style>
<style>.appHeader[data-v-953c1808]{height:100%}.appHeader .content[data-v-953c1808]{align-items:center;display:flex;flex-direction:row;height:100%;justify-content:space-between;margin:0 auto}.appHeader .content .logo[data-v-953c1808]{background-color:#fff;border:1px solid hsla(0,0%,73%,.2);border-radius:14px;height:52px;width:52px}.appHeader .content .articleInfo[data-v-953c1808]{width:100%}.appHeader .content .articleInfo .classification .tags[data-v-953c1808]{margin-right:4px}.appHeader .content .menu[data-v-953c1808]{justify-content:end;width:100%}.appHeader .content .menu[data-v-953c1808],.appHeader .content .menu .mainmenu[data-v-953c1808]{align-items:center;display:flex;flex-direction:row;height:100%}.appHeader .content .menu .mainmenu[data-v-953c1808]{justify-content:center}.appHeader .content .menu .mainmenu .item[data-v-953c1808]{align-items:center;display:flex;flex-direction:row;justify-content:center;list-style:none;margin:0 2px}.appHeader .content .menu .mainmenu .item a[data-v-953c1808]{font-size:1rem;font-weight:700;text-decoration:none}.appHeader .content .menu .mainmenu .item a .icon[data-v-953c1808]{display:none}@media (max-width:900px){.appHeader[data-v-953c1808]{height:48px}.appHeader .content[data-v-953c1808]{padding:0 12px}.appHeader .content .logo[data-v-953c1808]{height:42px;width:42px}.appHeader .content .articleInfo[data-v-953c1808]{display:none}.appHeader .content .menu .mainmenu .item[data-v-953c1808]{margin:0 6px}.appHeader .content .menu .mainmenu .item a[data-v-953c1808]{font-size:.8rem}.appHeader .content .menu .mainmenu .item a .icon[data-v-953c1808]{display:flex;font-size:1.2rem}.appHeader .content .menu .mainmenu .item a .text[data-v-953c1808],.appHeader .content .menu .mainmenu .spot[data-v-953c1808]{display:none}}</style>
<style>.appFooter .info[data-v-3cec749a]{padding:20px 0}.appFooter .info .icp[data-v-3cec749a]{color:rgba(235,244,241,.5)}@media (max-width:900px){.appFooter[data-v-3cec749a] *{font-size:.8rem}}</style>
<style>header[data-v-0e66c829]{height:auto;padding-top:82px}header[data-v-0e66c829],main[data-v-0e66c829]{margin:0 auto;width:700px}main[data-v-0e66c829]{position:relative;z-index:1}footer[data-v-0e66c829]{margin:0 auto;padding:20px 0;width:700px}@media (max-width:900px){header[data-v-0e66c829]{height:48px;padding:64px 2.5vw 0}header[data-v-0e66c829],main[data-v-0e66c829]{width:calc(100vw - 40px)}main[data-v-0e66c829]{padding:0 20px}footer[data-v-0e66c829]{padding:40px 20px;width:calc(100vw - 40px)}}</style>
<style>.articleContent[data-v-f9c11d0b]{margin:0 auto;max-width:900px;min-width:100px;padding-top:32px;width:100%}.articleContent .info[data-v-f9c11d0b]{display:none}@media (max-width:900px){.articleContent[data-v-f9c11d0b]{min-width:10vw;width:100%}.articleContent .info[data-v-f9c11d0b]{display:block;margin-bottom:24px}.articleContent .info p[data-v-f9c11d0b]{margin:0}.articleContent .info .articleTitle[data-v-f9c11d0b]{font-size:1.2rem}.articleContent .info .articleTime[data-v-f9c11d0b]{font-size:.9rem}}</style>
<style>pre code .line{display:block;min-height:1rem}</style>
<link rel="stylesheet" href="/_nuxt/entry.Cprq0VW9.css">
<link rel="stylesheet" href="/_nuxt/ProsePre.CchFRBtv.css">
<link rel="preload" as="fetch" crossorigin="anonymous" href="/articles/fontcompress/_payload.json?29a55ab7-0aef-4efd-98b8-8f83f465373e">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DY8XPlMf.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/6oANVjzW.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/W6J_HCmv.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/9QRU8BnI.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/8AqZETps.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/C-v3KzvZ.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Dnd51l0P.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/T3wwVhFt.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CNDj2rKL.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CH7qITeT.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/w2HmMSmq.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Yjj_B0f0.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/BJYn9d5n.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cyeyvgqd.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D0kQrnBb.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/D8ptmpb7.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/uyllBd8X.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/CgddQozM.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/Cj1BaL5_.js">
<link rel="prefetch" as="style" crossorigin href="/_nuxt/useStudio.DQTJeWrd.css">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/CrO8Kan5.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DJApYFC3.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/BN9OmkRG.js">
<link rel="prefetch" as="script" crossorigin href="/_nuxt/DxJMK0f2.js">
<link rel="shortcut icon" href="/logo_small.webp">
<link rel="apple-touch-icon" href="/logo_small.webp">
<meta property="og:title" content="字体压缩">
<meta name="description" content="使用Python工具给你的字体减肥!">
<meta property="og:description" content="使用Python工具给你的字体减肥!">
<script type="module" src="/_nuxt/DY8XPlMf.js" crossorigin></script>
<style>:where(.i-icon-park-solid\:bachelor-cap-two){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48' height='48'%3E%3Cg fill='none' stroke='black' stroke-linejoin='round' stroke-width='4'%3E%3Cpath d='M11 21v15.039c0 .607.274 1.18.785 1.509C13.486 38.643 17.86 41 24 41s10.514-2.357 12.215-3.452c.51-.33.785-.902.785-1.51V21'/%3E%3Cpath stroke-linecap='round' d='M43 24v8'/%3E%3Cpath fill='black' stroke-linecap='round' d='M5 17L24 7l19 10l-19 10z'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-icon-park-solid\:book-one){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48' height='48'%3E%3Cg fill='none' stroke='black' stroke-linejoin='round' stroke-width='4'%3E%3Cpath fill='black' d='M7 37V11a6 6 0 0 1 6-6h22v26H13c-3.3 0-6 2.684-6 6Z'/%3E%3Cpath stroke-linecap='round' d='M35 31H13a6 6 0 0 0 0 12h28V7M14 37h20'/%3E%3C/g%3E%3C/svg%3E")}:where(.i-icon-park-solid\:railway){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48' width='48' height='48'%3E%3Cdefs%3E%3Cmask id='ipSRailway0'%3E%3Cg fill='none'%3E%3Cpath fill='%23fff' stroke='%23fff' stroke-linejoin='round' stroke-width='4' d='M12 6a2 2 0 0 1 2-2h20a2 2 0 0 1 2 2v24a2 2 0 0 1-2 2H14a2 2 0 0 1-2-2z'/%3E%3Ccircle cx='18' cy='26' r='2' fill='%23000'/%3E%3Ccircle cx='30' cy='26' r='2' fill='%23000'/%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='4' d='M12 20h24'/%3E%3Cpath stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='4' d='M21 38h6m-9 6h12'/%3E%3Cpath stroke='%23fff' stroke-linecap='round' stroke-width='4' d='m17 32l-6 12m20-12l6 12'/%3E%3Cpath stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='4' d='M36 15v10M12 15v10'/%3E%3C/g%3E%3C/mask%3E%3C/defs%3E%3Cpath fill='black' d='M0 0h48v48H0z' mask='url(%23ipSRailway0)'/%3E%3C/svg%3E")}:where(.i-typcn\:rss){display:inline-block;width:1em;height:1em;background-color:currentColor;-webkit-mask-image:var(--svg);mask-image:var(--svg);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100% 100%;mask-size:100% 100%;--svg:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24'%3E%3Cpath fill='black' d='M6.002 15.999a2 2 0 1 0-.004 4a2 2 0 0 0 .004-4M6 4a2 2 0 0 0 0 4c5.514 0 10 4.486 10 10a2 2 0 0 0 4 0c0-7.72-6.28-14-14-14m0 6a2 2 0 0 0 0 4c2.205 0 4 1.794 4 4a2 2 0 0 0 4 0c0-4.411-3.589-8-8-8'/%3E%3C/svg%3E")}</style></head><body><div id="__nuxt"><!--[--><header data-v-0e66c829><div class="appHeader" data-v-0e66c829 data-v-953c1808><div class="content" data-v-953c1808><div class="articleInfo" data-v-953c1808><!--[--><p class="articleTitle" data-v-953c1808>字体压缩</p><p class="articleTime" data-v-953c1808>Mar 11, 2024</p><!--]--></div><nav class="menu" data-v-953c1808><ul class="mainmenu" data-v-953c1808><li class="item" data-v-953c1808><a href="/" class="" data-v-953c1808><span class="iconify i-icon-park-solid:bachelor-cap-two icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>Home</span></a></li><li class="item spot" data-v-953c1808>·</li><li class="item" data-v-953c1808><a href="/article" class="" data-v-953c1808><span class="iconify i-icon-park-solid:book-one icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>article</span></a></li><li class="item spot" data-v-953c1808>·</li><li class="item" data-v-953c1808><a href="https://www.travellings.cn/go.html" rel="noopener noreferrer" target="_blank" data-v-953c1808><span class="iconify i-icon-park-solid:railway icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>travelling</span></a></li><li class="item spot" data-v-953c1808>·</li><li class="item" data-v-953c1808><a href="/rss.xml" rel="noopener noreferrer" target="_blank" data-v-953c1808><span class="iconify i-typcn:rss icon" aria-hidden="true" style="" data-v-953c1808></span><span class="text" data-v-953c1808>RSS</span></a></li></ul></nav></div></div></header><main data-v-0e66c829><div class="articleContent" data-v-f9c11d0b><div class="info" data-v-f9c11d0b><!--[--><p class="articleTitle" data-v-f9c11d0b>字体压缩</p><p class="articleTime" data-v-f9c11d0b>Mar 11, 2024</p><!--]--></div><!--[--><div><h1 id="写在前面"><!--[-->写在前面<!--]--></h1><p><!--[-->有时候我们想要给自己的页面添加自定义字体，但是常见的中文字体文件格式都是otf或者ttf，这类字体格式往往占用很大，十几二十MB都是家常便饭，这样就不方便页面的加载，有可能用户准备退出了字体也没加载出来，这时候只需要给字体取子集转换成WOFF2格式即可压缩字体。<!--]--></p><h1 id="准备"><!--[-->准备<!--]--></h1><p><!--[-->我们需要用到Python 的一个库：<a href="https://github.com/fonttools/fonttools" rel="nofollow"><!--[-->fonttools<!--]--></a>，所以需要先安装<a href="https://www.runoob.com/python/python-install.html" rel="nofollow"><!--[-->Python<!--]--></a>，再使用命令行安装fonttools。<!--]--></p><!--[--><pre class="language-shell shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">pip</span><span style="--shiki-default:#9ECBFF"> install</span><span style="--shiki-default:#9ECBFF"> fonttools
</span></span></code><!--]--></pre><!--]--><h1 id="取子集"><!--[-->取子集<!--]--></h1><p><!--[-->字面意思，正常的字体中有很多都是日常不常用的生僻字，以思源宋体为例，思源宋体遵循 GB 18030 和通用规范汉字表，包含 8105 个规范字（来自：<a href="https://sspai.com/post/38705" rel="nofollow"><!--[-->少数派<!--]--></a>），但是中文常用汉字只有3500个左右。<!--]--></p><p><!--[-->比较极端的做法是只保留文章中出现的字体，虽然这样能节省出更多的空间，但是不方便日后维护更改，所以这里使用<a href="https://gist.github.com/MoyuScript/f94d0c594e47113b209156a653aaba93#file-%E7%8E%B0%E4%BB%A3%E6%B1%89%E8%AF%AD%E5%B8%B8%E7%94%A83500%E5%AD%97-txt" rel="nofollow"><!--[-->现代汉语常用3500字<!--]--></a>。<!--]--></p><!--[--><pre class="" style=""><!--[--><code>//现代汉语常用3500字
工才下寸丈大与万上小口山巾千乞川亿个么久勺丸夕凡及一乙二十丁厂七卜八人入儿九几了乃刀力又三干于亏士土工才下寸丈大与万上小口山巾千乞川亿个么久勺丸夕凡及广亡门义之尸已弓己卫子也女飞刃习叉马乡丰王井开夫天元无云专扎艺木五支厅不太犬区历友尤匹车巨牙屯比互切瓦止少日中贝内水冈见手午牛毛气升长仁什片仆化仇币仍仅斤爪反介父从今凶分乏公仓月氏勿风欠丹匀乌勾凤六文方火为斗忆计订户认心尺引丑巴孔队办以允予劝双书幻玉刊末未示击打巧正扑扒功扔去甘世古节本术可丙左厉石右布龙平灭轧东卡北占业旧帅归目旦且叮叶甲申号电田由只央史兄叼叫叨另叹四生失禾丘付仗代仙们仪白仔他斥瓜乎丛令用甩印乐句匆册犯外处冬鸟务包饥主市立闪兰半汁汇头汉宁穴它讨写让礼训必议讯记永司尼民出辽奶奴加召皮边孕发圣对台矛纠母幼丝式刑动扛寺吉扣考托老圾巩执扩扫地扬场耳共芒亚芝朽朴机权过臣再协西压厌在百有存而页匠夸夺灰达列死成夹轨邪划迈毕至此贞师尘尖劣光当早吐吓虫曲团同吊吃因吸吗屿帆岁回岂则刚网肉年朱先丢舌竹迁乔伟传乒乓休伍伏优伐延件任伤价份华仰仿伙伪自血向似后行舟全会杀合兆企众爷伞创肌朵杂危旬旨负各名多争色壮冲冰庄庆亦刘齐交次衣产决充妄闭问闯羊并关米灯州汗污江池汤忙兴宇守宅字安讲军许论农讽设访寻那迅尽导异孙阵阳收阶阴防奸如妇好她妈戏羽观欢买红纤约级纪驰巡寿弄麦形进戒吞远违运扶抚坛技坏扰拒找批扯址走抄坝贡攻赤折抓扮抢孝均抛投坟坑抗坊抖护壳志块扭声把报却劫芽花芹芬苍芳严芦劳克苏杆杜杠材村杏极李杨求更束豆两丽医辰励否还歼来连步坚旱盯呈时吴助县里呆园旷围呀吨足邮男困吵串员听吩吹呜吼吧别岗帐财钉针告我乱利秃秀私每兵估体何但伸作伯伶佣低你住位伴身皂佛近彻役返余希坐谷妥含邻岔肝肚肠龟免狂犹角删条卵岛迎饭饮系言冻状亩况床库疗应冷这序辛弃冶忘闲间闷判灶灿弟汪沙汽沃泛沟没沈沉怀忧快完宋宏牢究穷灾良证启评补初社识诉诊词译君灵即层尿尾迟局改张忌际陆阿陈阻附妙妖妨努忍劲鸡驱纯纱纲纳纵驳纷纸纹纺驴纽奉玩环武青责现表规抹拢拔拣坦担押抽拐拖者拍顶拆拥抵拘势抱垃拉拦幸拌招坡披拨择抬其取苦若茂苹苗英范直茄茎茅林枝杯柜析板松枪构杰述枕丧或画卧事刺枣雨卖矿码厕奔奇奋态欧垄妻轰顷转斩轮软到非叔肯齿些虎虏肾贤尚旺具果味昆国昌畅明易昂典固忠咐呼鸣咏呢岸岩帖罗帜岭凯败贩购图钓制知垂牧物乖刮秆和季委佳侍供使例版侄侦侧凭侨佩货依的迫质欣征往爬彼径所舍金命斧爸采受乳贪念贫肤肺肢肿胀朋股肥服胁周昏鱼兔狐忽狗备饰饱饲变京享店夜庙府底剂郊废净盲放刻育闸闹郑券卷单炒炊炕炎炉沫浅法泄河沾泪油泊沿泡注泻泳泥沸波泼泽治怖性怕怜怪学宝宗定宜审宙官空帘实试郎诗肩房诚衬衫视话诞询该详建肃隶录居届刷屈弦承孟孤陕降限妹姑姐姓始驾参艰线练组细驶织终驻驼绍经贯奏春帮珍玻毒型挂封持项垮挎城挠政赴赵挡挺括拴拾挑指垫挣挤拼挖按挥挪某甚革荐巷带草茧茶荒茫荡荣故胡南药标枯柄栋相查柏柳柱柿栏树要咸威歪研砖厘厚砌砍面耐耍牵残殃轻鸦皆背战点临览竖省削尝是盼眨哄哑显冒映星昨畏趴胃贵界虹虾蚁思蚂虽品咽骂哗咱响哈咬咳哪炭峡罚贱贴骨钞钟钢钥钩卸缸拜看矩怎牲选适秒香种秋科重复竿段便俩货顺修保促侮俭俗俘信皇泉鬼侵追俊盾待律很须叙剑逃食盆胆胜胞胖脉勉狭狮独狡狱狠贸怨急饶蚀饺饼弯将奖哀亭亮度迹庭疮疯疫疤姿亲音帝施闻阀阁差养美姜叛送类迷前首逆总炼炸炮烂剃洁洪洒浇浊洞测洗活派洽染济洋洲浑浓津恒恢恰恼恨举觉宣室宫宪突穿窃客冠语扁袄祖神祝误诱说诵垦退既屋昼费陡眉孩除险院娃姥姨姻娇怒架贺盈勇怠柔垒绑绒结绕骄绘给络骆绝绞统耕耗艳泰珠班素蚕顽盏匪捞栽捕振载赶起盐捎捏埋捉捆捐损都哲逝捡换挽热恐壶挨耻耽恭莲莫荷获晋恶真框桂档桐株桥桃格校核样根索哥速逗栗配翅辱唇夏础破原套逐烈殊顾轿较顿毙致柴桌虑监紧党晒眠晓鸭晃晌晕蚊哨哭恩唤啊唉罢峰圆贼贿钱钳钻铁铃铅缺氧特牺造乘敌秤租秧积秩称秘透笔笑笋债借值倚倾倒倘俱倡候俯倍倦健臭射躬息徒徐舰舱般航途拿爹爱颂翁脆脂胸胳脏胶脑狸狼逢留皱饿恋桨浆衰高席准座症病疾疼疲脊效离唐资凉站剖竞部旁旅畜阅羞瓶拳粉料益兼烤烘烦烧烛烟递涛浙涝酒涉消浩海涂浴浮流润浪浸涨烫涌悟悄悔悦害宽家宵宴宾窄容宰案请朗诸读扇袜袖袍被祥课谁调冤谅谈谊剥恳展剧屑弱陵陶陷陪娱娘通能难预桑绢绣验继球理捧堵描域掩捷排掉推堆掀授教掏掠培接控探据掘职基著勒黄萌萝菌菜萄菊萍菠营械梦梢梅检梳梯桶救副票戚爽聋袭盛雪辅辆虚雀堂常匙晨睁眯眼悬野啦晚啄距跃略蛇累唱患唯崖崭崇圈铜铲银甜梨犁移笨笼笛符第敏做袋悠偿偶偷您售停偏假得衔盘船斜盒鸽悉欲彩领脚脖脸脱象够猜猪猎猫猛馅馆凑减毫麻痒痕廊康庸鹿盗章竟商族旋望率着盖粘粗粒断剪兽清添淋淹渠渐混渔淘液淡深婆梁渗情惜惭悼惧惕惊惨惯寇寄宿窑密谋谎祸谜逮敢屠弹随蛋隆隐婚婶颈绩绪续骑绳维绵绸绿琴斑替款堪塔搭越趁趋超提堤博揭喜插揪搜煮援裁搁搂搅握揉斯期欺联散惹葬葛董葡敬葱落朝辜葵棒棋植森椅椒棵棍棉棚棕惠惑逼厨厦硬确雁殖裂雄暂雅辈悲紫辉敞赏掌晴暑最量喷晶喇遇喊景践跌跑遗蛙蛛蜓喝喂喘喉幅帽赌赔黑铸铺链销锁锄锅锈锋锐短智毯鹅剩稍程稀税筐等筑策筛筒答筋筝傲傅牌堡集焦傍储奥街惩御循艇舒番释禽腊脾腔鲁猾猴然馋装蛮就痛童阔善羡普粪尊道曾焰港湖渣湿温渴滑湾渡游滋溉愤慌惰愧愉慨割寒富窜窝窗遍裕裤裙谢谣谦属屡强粥疏隔隙絮嫂登缎缓骗编缘瑞魂肆摄摸填搏塌鼓摆携搬摇搞塘摊蒜勤鹊蓝墓幕蓬蓄蒙蒸献禁楚想槐榆楼概赖酬感碍碑碎碰碗碌雷零雾雹输督龄鉴睛睡睬鄙愚暖盟歇暗照跨跳跪路跟遣蛾蜂嗓置罪罩错锡锣锤锦键锯矮辞稠愁筹签简毁舅鼠催傻像躲微愈遥腰腥腹腾腿触解酱痰廉新韵意粮数煎塑慈煤煌满漠源滤滥滔溪溜滚滨粱滩慎誉塞谨福群殿辟障嫌嫁叠缝缠静碧璃墙嘉摧截誓境摘摔撇聚慕暮蔑蔽模榴榜榨歌遭酷酿酸磁愿需裳颗嗽蜻蜡蝇蜘赚锹锻舞稳算箩管僚鼻魄貌膜膊膀鲜疑馒裹敲豪膏遮腐瘦辣竭端旗精歉弊熄熔漆漂漫滴演漏慢寨赛察蜜谱嫩翠熊凳骡缩慧撕撒趣趟撑播撞撤增聪鞋蕉蔬横槽樱橡飘醋醉震霉瞒题暴瞎影踢踏踩踪蝶蝴嘱墨镇靠稻黎稿稼箱箭篇僵躺僻德艘膝膛熟摩颜毅糊遵潜潮懂额慰劈操燕薯薪薄颠橘整融醒餐嘴蹄器赠默镜赞篮邀衡膨雕磨凝辨辩糖糕燃澡激懒壁避缴戴擦鞠藏霜霞瞧蹈螺穗繁辫赢糟糠燥臂翼骤鞭覆蹦镰翻鹰警攀蹲颤瓣爆疆壤耀躁嚼嚷籍魔灌蠢霸露囊罐匕刁丐歹戈夭仑讥冗邓艾夯凸卢叭叽皿凹囚矢乍尔冯玄邦迂邢芋芍吏夷吁吕吆屹廷迄臼仲伦伊肋旭匈凫妆亥汛讳讶讹讼诀弛阱驮驯纫玖玛韧抠扼汞扳抡坎坞抑拟抒芙芜苇芥芯芭杖杉巫杈甫匣轩卤肖吱吠呕呐吟呛吻吭邑囤吮岖牡佑佃伺囱肛肘甸狈鸠彤灸刨庇吝庐闰兑灼沐沛汰沥沦汹沧沪忱诅诈罕屁坠妓姊妒纬玫卦坷坯拓坪坤拄拧拂拙拇拗茉昔苛苫苟苞茁苔枉枢枚枫杭郁矾奈奄殴歧卓昙哎咕呵咙呻咒咆咖帕账贬贮氛秉岳侠侥侣侈卑刽刹肴觅忿瓮肮肪狞庞疟疙疚卒氓炬沽沮泣泞泌沼怔怯宠宛衩祈诡帚屉弧弥陋陌函姆虱三绅驹绊绎契贰玷玲珊拭拷拱挟垢垛拯荆茸茬荚茵茴荞荠荤荧荔栈柑栅柠枷勃柬砂泵砚鸥轴韭虐昧盹咧昵昭盅勋哆咪哟幽钙钝钠钦钧钮毡氢秕俏俄俐侯徊衍胚胧胎狰饵峦奕咨飒闺闽籽娄烁炫洼柒涎洛恃恍恬恤宦诫诬祠诲屏屎逊陨姚娜蚤骇耕耙秦匿埂捂捍袁捌挫挚捣捅埃耿聂荸莽莱莉莹莺梆栖桦栓桅桩贾酌砸砰砾殉逞哮唠哺剔蚌蚜畔蚣蚪蚓哩圃鸯唁哼唧唆峭峻赂赃钾铆氨秫笆俺赁倔殷耸舀豺豹颁胯胰脐脓逛卿鸵鸳馁凌凄衷郭斋疹紊瓷羔烙浦涡涣涤涧涕涩悍悯窍诺诽袒谆祟恕娩骏琐麸琉琅措捺捶赦埠捻掐掂掖掷掸掺勘聊娶菱菲萎菩萤干萧萨菇彬梗梧梭曹酝酗厢硅硕奢盔匾颅彪眶晤曼晦冕啡畦趾啃蛆蚯蛉蛀唬啰唾啤啥啸崎逻崔崩婴赊铐铛铝铡铣铭矫秸秽笙笤偎傀躯兜衅徘徒舶舷舵敛翎脯逸凰猖祭烹庶庵痊阎阐眷焊焕鸿涯淑淌淮淆渊淫淳淤淀涮涵惦悴惋寂窒谍谐裆袱祷谒谓谚尉堕隅婉颇绰绷综绽缀巢琳琢琼揍堰揩揽揖彭揣搀搓壹搔葫募蒋蒂韩棱椰焚椎棺榔椭粟棘酣酥硝硫颊雳翘凿棠晰鼎喳遏晾畴跋跛蛔蜒蛤鹃喻啼喧嵌赋赎赐锉锌甥掰氮氯黍筏牍粤逾腌腋腕猩猬惫敦痘痢痪竣翔奠遂焙滞湘渤渺溃溅湃愕惶寓窖窘雇谤犀隘媒媚婿缅缆缔缕骚瑟鹉瑰搪聘斟靴靶蓖蒿蒲蓉楔椿楷榄楞楣酪碘硼碉辐辑频睹睦瞄嗜嗦暇畸跷跺蜈蜗蜕蛹嗅嗡嗤署蜀幌锚锥锨锭锰稚颓筷魁衙腻腮腺鹏肄猿颖煞雏馍馏禀痹廓痴靖誊漓溢溯溶滓溺寞窥窟寝褂裸谬媳嫉缚缤剿赘熬赫蔫摹蔓蔗蔼熙蔚兢榛榕酵碟碴碱碳辕辖雌墅嘁踊蝉嘀幔镀舔熏箍箕箫舆僧孵瘩瘟彰粹漱漩漾慷寡寥谭褐裉隧嫡缨撵撩撮撬擒墩撰鞍蕊蕴樊樟橄敷豌醇磕磅碾嘶嘲嘹蝠蝎蝌蝗蝙嘿幢镊镐稽篓膘鲤鲫褒瘪瘤瘫凛憋澎潭潦澳潘澈澜澄憔懊憎翩褥谴鹤憨履嬉豫缭撼擂擅蕾薛薇擎翰噩橱橙瓢磺霍霎辙冀踱蹂蟆螃螟噪鹦黔穆篡篷篙篱儒膳鲸瘾瘸糙燎濒憾懈窿缰壕藐檬檐檩檀礁磷瞭瞬瞳瞪曙蹋蟋蟀嚎赡镣魏簇儡徽爵朦臊鳄糜癌懦豁臀藕藤瞻嚣鳍癞瀑襟璧戳攒孽蘑藻蹭蹬簸簿蟹靡癣羹鳖鬓攘蠕巍鳞糯譬霹躏髓蘸镶瓤矗帧

//特殊字符
:?、。·ˉˇ¨〃々—～‖…‘’“”〔〕〈 〉《》「」『』〖〗【】±+-×÷∧∨∑∏∪∩∈√⊥ ∥ ∠⌒⊙∫∮ ≡≌≈∽∝≠≮≯≤≥∞∶∵∴∷♂♀°′″℃$¤￠￡ ‰ § №☆★〇○●◎◇◆ 回□■△▽⊿▲▼◣◤◢◥ ▁▂▃▄▅▆▇█▉▊▋▌▍▎▏▓※→←↑↓↖↗↘↙〓 ⅰⅱⅲⅳⅴⅵⅶⅷⅸⅹ①②③④⑤⑥⑦⑧⑨⑩ ⒈⒉⒊⒋⒌⒍⒎⒏⒐⒑⒒⒓⒔⒕⒖⒗⒘⒙⒚⒛⑴⑵⑶⑷⑸⑹⑺⑻⑼⑽⑾⑿⒀⒁⒂⒃⒄⒅⒆⒇ 一二三四五六七八九十ⅠⅡⅢⅣⅤⅥⅦⅧⅨⅩⅪⅫ !&quot;#￥%&amp;&#39;()*+，-./0123456789：;&lt;=&gt;？ @ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz {|｝ぁあぃいぅうぇえぉおかがきぎくぐけげこごさざしじすずせぜそぞただちぢっつづてでとどなにぬねのはばぱひびぴふぶぷへべぺほぼぽまみむめもゃやゅゆょよらりるれろゎわゐゑをんァアィイゥウェエォオカガキギクグケゲコゴサザシジスズセゼソゾタダチヂッツヅテデトドナニヌネノハバパヒビピフブプヘベペホボポマミムメモャヤュユョヨラリルレロヮワヰヱヲンヴヵヶΑΒΓΔΕΖΗΘΙΚΛΜΝΞΟΠΡΣΤΥΦΧΨΩαβγδεζηθ ικλμνξοπρστυφχψ ω︵︶︹︺︿﹀︽︾﹁﹂﹃﹄︻︼︷︸АБВГДЕЁЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ абвгдеёжзийклмнопрстуфхцчшщъыь эюāáǎàēéěèī íǐìōóǒòūúǔùǖǘǚǜüêɑńňǹɡ ㄅㄆㄇㄈㄉㄊㄋㄌㄍㄎㄏㄐㄑㄒㄓㄔㄕㄖㄗㄘㄙㄚㄛㄜㄝㄞㄟㄠㄡㄢㄣㄤㄥㄦㄧㄨㄩ︱︳︴﹏﹋﹌─━│┃┄┅┆ ┇┈┉┊┋┌┍┎┏┐┑┒┓└┕┖┗┘┙┚┛├┝┞ ┟┠┡┢┣┤┥┦┧┨┩┪┫┬┭┮ ┯┰┱┲┳┴┵┶┷┸┹┺┻┼┽┾┿╀╁╂╃╄ ╅╆╇╈╉╊╋？㊣㈱曱甴囍∟┅﹊﹍╭ ╮╰ ╯ _ ^︵^﹕﹗/\ &quot; &lt; &gt; `,·。{}~～() -√ $ @ * &amp; # 卐℡ ぁ〝〞ミ灬№*ㄨ≮≯﹢﹣/∝≌∽≦≧≒﹤﹥じぷ┗┛￥￡§я-―‥…‰′″℅℉№℡∕∝∣═║ ╒╓╔╕╖╗╘╙╚╛╜╝╞╟╠╡╢╣╤╥╦╧╨╩ ╪ ╫ ╬ ╱ ╲╳▔▕〆〒〡〢〣〤〥〦〧〨〩㎎ ㎏ ㎜ ㎝ ㎞ ㎡ ㏄ ㏎㏑㏒㏕ǹ兀︰﹍﹎ ------
</code><!--]--></pre><!--]--><p><!--[-->直接复制到空白的txt文件中备用。<!--]--></p><p><!--[-->这里以思源黑体（SourceHanSans-Bold.otf）举例。<!--]--></p><!--[--><pre class="language-shell shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">//</span><span style="--shiki-default:#9ECBFF"> 命令格式
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">fonttools</span><span style="--shiki-default:#9ECBFF"> subset</span><span style="--shiki-default:#9ECBFF"> &quot;</span><span style="--shiki-default:#E1E4E8">$input_file</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#79B8FF"> --text-file=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">$text_file</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#79B8FF"> --output-file=</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#E1E4E8">$output_file</span><span style="--shiki-default:#9ECBFF">&quot;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0">//</span><span style="--shiki-default:#9ECBFF"> 具体命令
</span></span><span class="line" line="5"><span style="--shiki-default:#B392F0">fonttools</span><span style="--shiki-default:#9ECBFF"> subset</span><span style="--shiki-default:#9ECBFF"> &quot;./SourceHanSans-Bold.otf&quot;</span><span style="--shiki-default:#79B8FF"> --text-sile=</span><span style="--shiki-default:#9ECBFF">&quot;./3500.txt&quot;</span><span style="--shiki-default:#79B8FF"> --output-file=</span><span style="--shiki-default:#9ECBFF">&quot;./SourceHanSans-Bold-compress.otf&quot;
</span></span></code><!--]--></pre><!--]--><p><!--[--><img src="/image/fontcompress/1.webp" alt="1"><!--]--></p><p><!--[-->命令解释：<!--]--></p><ul><!--[--><li><!--[-->$input_file 输入的字体文件路径<!--]--></li><li><!--[-->$text_sile 需要保留取子集的文字txt文件<!--]--></li><li><!--[-->$output_file 输出的字体文件路径<!--]--></li><!--]--></ul><p><!--[-->因为我这里字体、txt文件和终端位置都在桌面，所以直接输入文件名，如果文件位置不同需要添加路径。<!--]--></p><h1 id="转格式"><!--[-->转格式<!--]--></h1><p><!--[-->虽然取子集已经压缩出很多空间了，但是还可以进一步压缩，把otf转换成woff2，woff2是Web 开放字体格式(WOFF) 的压缩程度更高的版本。 它被开发为一种减小网络字体文件大小的方法，使它们能够更快地加载并使用更少的带宽。 WOFF2 使用称为Brotli 的压缩算法来压缩字体数据，这可能导致文件大小明显小于等效的WOFF 字体。<!--]--></p><!--[--><pre class="language-shell shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">//</span><span style="--shiki-default:#9ECBFF"> 命令格式
</span></span><span class="line" line="2"><span style="--shiki-default:#B392F0">fonttools</span><span style="--shiki-default:#9ECBFF"> ttLib.woff2</span><span style="--shiki-default:#9ECBFF"> compress</span><span style="--shiki-default:#9ECBFF"> &quot;</span><span style="--shiki-default:#E1E4E8">$input_file</span><span style="--shiki-default:#9ECBFF">&quot;</span><span style="--shiki-default:#79B8FF"> -o</span><span style="--shiki-default:#9ECBFF"> &quot;</span><span style="--shiki-default:#E1E4E8">$output_file</span><span style="--shiki-default:#9ECBFF">&quot;
</span></span><span class="line" line="3"><span emptylineplaceholder="true">
</span></span><span class="line" line="4"><span style="--shiki-default:#B392F0">//</span><span style="--shiki-default:#9ECBFF"> 具体命令
</span></span><span class="line" line="5"><span style="--shiki-default:#B392F0">fonttools</span><span style="--shiki-default:#9ECBFF"> ttLib.woff2</span><span style="--shiki-default:#9ECBFF"> compress</span><span style="--shiki-default:#9ECBFF"> &quot;SourceHanSans-Bold-compress.otf&quot;</span><span style="--shiki-default:#79B8FF"> -o</span><span style="--shiki-default:#9ECBFF"> &quot;SourceHanSans-Bold.woff2&quot;
</span></span></code><!--]--></pre><!--]--><p><!--[-->命令解释：<!--]--></p><ul><!--[--><li><!--[-->$input_file 输入的字体文件路径<!--]--></li><li><!--[-->$output_file 输出的字体文件路径<!--]--></li><!--]--></ul><p><!--[-->这里可能会出现报错，原因是缺少了 <code class=""><!--[-->brotli<!--]--></code>库。<!--]--></p><p><!--[--><img src="/image/fontcompress/2.webp" alt="2"><!--]--></p><!--[--><pre class="language-shell shiki shiki-themes github-dark" style=""><!--[--><code><span class="line" line="1"><span style="--shiki-default:#B392F0">//</span><span style="--shiki-default:#9ECBFF"> 安装brotli库
</span></span><span class="line" line="2"><span emptylineplaceholder="true">
</span></span><span class="line" line="3"><span style="--shiki-default:#B392F0">pip</span><span style="--shiki-default:#9ECBFF"> install</span><span style="--shiki-default:#9ECBFF"> brotli
</span></span></code><!--]--></pre><!--]--><p><!--[-->安装完成后再次执行即可。<!--]--></p><p><!--[--><img src="/image/fontcompress/3.webp" alt="3"><!--]--></p><h1 id="总结"><!--[-->总结<!--]--></h1><p><!--[-->本文以思源黑体（SourceHanSans-Bold.otf）举例，成功地从17.5MB压缩到了781KB，压缩了95.53%，既减轻了服务器的压力，也能加快客户端的加载。<!--]--></p><p><!--[--><img src="/image/fontcompress/4.webp" alt="4"><!--]--></p><h1 id="可能出现的问题"><!--[-->可能出现的问题<!--]--></h1><h2 id="安装完fonttools后显示找不到"><a href="#安装完fonttools后显示找不到"><!--[-->安装完fonttools后显示找不到<!--]--></a></h2><p><!--[--><img src="/image/fontcompress/5.webp" alt="5"><!--]--></p><p><!--[-->原因： 这是因为环境变量中没有python脚本的路径，即使再次卸载安装命令行也会显示找不到路径。<!--]--></p><p><!--[-->解决：
按下<code class=""><!--[-->win+s<!--]--></code>搜索<code class=""><!--[-->环境变量<!--]--></code>，打开之后点击<code class=""><!--[-->环境变量<!--]--></code>，在<code class=""><!--[-->系统变量<!--]--></code>中寻找并双击编辑<code class=""><!--[-->Path<!--]--></code>，添加上python脚本的路径，重启终端即可。<!--]--></p><p><!--[-->(python脚本的路径输入<code class=""><!--[-->pip install fonttools<!--]--></code>再次安装就会显示出来。)<!--]--></p><p><!--[--><img src="/image/fontcompress/6.webp" alt="6"><!--]--></p><style>html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}</style></div><!--]--></div></main><footer data-v-0e66c829><div class="appFooter" data-v-0e66c829 data-v-3cec749a><div class="info" data-v-3cec749a><p class="copyright" data-v-3cec749a>Copyright ©2024.sooooooooooooooooootheby All rights reserved</p></div></div></footer><!--]--></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/articles/fontcompress/_payload.json?29a55ab7-0aef-4efd-98b8-8f83f465373e">[{"state":1,"once":3,"_errors":4,"serverRendered":7,"path":8,"prerenderedAt":9},["Reactive",2],{},["Set"],["ShallowReactive",5],{"content-query-pH0Vo5cm6M":6,"content-query-Sl8xGaXhq1":6},null,true,"/articles/fontcompress",1730364767598]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{mdc:{components:{prose:true,map:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"}},headings:{anchorLinks:{h1:false,h2:true,h3:true,h4:true,h5:false,h6:false}}},content:{locales:[],defaultLocale:"",integrity:1730364745108,experimental:{stripQueryParameters:false,advanceQuery:false,clientDB:false},respectPathCase:false,api:{baseURL:"/api/_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"ProseCodeInline",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"github-dark",highlighter:"shiki",shikiEngine:"oniguruma",langs:["js","jsx","json","ts","tsx","vue","css","html","bash","md","mdc","yaml"]},wsUrl:"",documentDriven:false,host:"",trailingSlash:false,search:"",contentHead:true,anchorLinks:{depth:4,exclude:[1]}},studio:{apiURL:"http://localhost:1337",iframeMessagingAllowedOrigins:""}},app:{baseURL:"/",buildId:"29a55ab7-0aef-4efd-98b8-8f83f465373e",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>